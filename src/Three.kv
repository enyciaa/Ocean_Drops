#kivy 1.8.0

###Templates###
<Text@Label>
	halign: app.td_layout["text"]["halign"]
	valign: app.td_layout["text"]["valign"]
    text_size: self.size
    color: app.td_layout["three_drops"]["text_color"]
    font_size: sp(app.td_layout["text"]["font_size"])
    
<Button_Template@ButtonClicks>
	size_hint: None, None
	size_x: sp(app.td_layout["button_template"]["size_x"])
	size_y: sp(app.td_layout["button_template"]["size_y"])
	background_color: app.td_layout["button_template"]["back_color"]
	color: app.td_layout["three_drops"]["text_color"]
	valign: app.td_layout["button_template"]["valign"]
	halign: app.td_layout["button_template"]["halign"]
    text_size: self.size	

<Back_Button@Button_Template>
	center_x: app.three_drops.back_x     #Goes back to main app and then to three drops
	center_y: app.three_drops.back_y
	text: app.td_layout["back_button"]["text"]	
	
<Next_Button@Button_Template>
	center_x: app.three_drops.next_x
	center_y: app.three_drops.next_y
	text: app.td_layout["next_button"]["text"]	
	
<Blank_Bottom@BoxLayout>
	size_hint_y: None
	height: sp(app.td_layout["blank_bottom"]["height"])	


###Widgets###		
<StartScreen>	
	canvas.before:
        Rectangle:
        	source: app.td_layout["start_screen"]["background"]	
            size: self.size
            pos: self.pos
    
    ###Text        
	BoxLayout:
		size: root.size
		orientation: 'vertical'	
		spacing: sp(app.td_layout["start_screen"]["spacing"])
		Text:
			valign: app.td_layout["start_screen"]["quote_valign"]
			text: app.td_layout["start_screen"]["quote"]	
		Text:
			valign: app.td_layout["start_screen"]["quote_name_valign"]
			text: app.td_layout["start_screen"]["quote_name"]
		Blank_Bottom:				
			
	###Buttons
	Back_Button:
		on_touch_up: 
			button_identifier = 'but_005'          #This function runs on touch up
			cond1 = self.collide_point(*args[1].pos)                     #only runs if touch up is on button
			if cond1: self.click_up(self, button_identifier)
	Next_Button:
		on_touch_up: 
			button_identifier = 'but_006'
			cond1 = self.collide_point(*args[1].pos)                
			if cond1: self.click_up(self, button_identifier)		


			
<Text_Box@TextInput>
	size_hint: app.td_layout["three"]["text_box_size"]
	border: app.td_layout["three"]["text_box_border"]
	background_color: app.td_layout["three"]["text_box_background"]         ####0, 0, 0, 0 makes the background transparent	
	text: app.td_layout["three"]["cloud_text"] 	
	
<Cloud@BoxLayout, RelativeLayout>
	size_hint: app.td_layout["three"]["cloud_size"]  
	canvas:
		Color:
			rgba: app.td_layout["three"]["cloud_color"]  
    	Rectangle:
        	source: app.td_layout["three"]["cloud_background"]  
            size: self.size
            pos: self.pos	            	
	Text_Box:
		x: self.parent.width/2 - self.width/2
		y: self.parent.height/2 - self.height/2 
	
<Cloud_Left@BoxLayout>
	BoxLayout:	
		orientation: 'horizontal'		
		Cloud:
		BoxLayout:	   
    
<Cloud_Right@BoxLayout>
	BoxLayout:	
		orientation: 'horizontal'		
		BoxLayout:	
		Cloud:	

<Three>
	canvas.before:
        Rectangle:
        	source: app.td_layout["three"]["background"] 
            size: self.size
            pos: self.pos
	
	###Clouds
	BoxLayout:
		size: root.size
		orientation: 'vertical'
		
		###Cloud1
		Cloud_Left:
						
		###Cloud2	
		Cloud_Right:

		###Cloud3	
		Cloud_Left:
		
		###Bottom Filler
		Blank_Bottom:	
		
	
	###Buttons
	Back_Button:
		on_touch_up: 
			button_identifier = 'but_007'
			cond1 = self.collide_point(*args[1].pos)                
			if cond1: self.click_up(self, button_identifier)		
	Next_Button:
		on_touch_up: 
			button_identifier = 'but_008'
			cond1 = self.collide_point(*args[1].pos)                
			if cond1: self.click_up(self, button_identifier)
				
	
				
<Sent>	
	canvas.before:
        Rectangle:
        	source: app.td_layout["sent"]["background"]
            size: self.size
            pos: self.pos
	
	###Text
	BoxLayout:
		size: root.size	
		orientation: 'vertical'				
		Text:
			text: app.td_layout["sent"]["text"]
		Blank_Bottom:		
			
	###Buttons	
	Back_Button	
		on_touch_up: 
			button_identifier = 'but_009'
			cond1 = self.collide_point(*args[1].pos)                
			if cond1: self.click_up(self, button_identifier)	
	Next_Button:
		text: app.td_layout["sent"]["menu_button_text"]
		on_touch_up: 
			button_identifier = 'but_010'
			cond1 = self.collide_point(*args[1].pos)                
			if cond1: self.click_up(self, button_identifier)			
			
		
		
<ReadMore>						
	canvas.before:
        Rectangle:
        	source: app.td_layout["read_more"]["background"]
            size: self.size
            pos: self.pos
	
	###Text
	BoxLayout:
		size: root.size
		orientation: 'vertical'
		
		###Text
		ScrollView:
			BoxLayout:
				size_hint_y: None
				orientation: 'vertical'
				Text:
					size_hint_y: None
					height: sp(app.td_layout["read_more"]["title_height"])
					text: app.td_layout["read_more"]["title"]
				Text:
					text: app.td_layout["read_more"]["main_text"]	
		Blank_Bottom:
		
		
	###Buttons	
	Back_Button:
		on_touch_up: 
			button_identifier = 'but_011'
			cond1 = self.collide_point(*args[1].pos)                
			if cond1: self.click_up(self, button_identifier)							
			
			
										
						