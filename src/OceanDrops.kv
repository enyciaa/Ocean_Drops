#kivy 1.8.0

###Templates###
<Mini_App_Description@MiniAppDescription>
	size_hint: app.layout["mini_app_description"]["size"]
	pos_hint: {'center_x': 0.5, 'center_y': 0.5}         
        
            
###Widgets###
<TitleDrop>
	Button:
        text: 'About'
        size_hint_y: None
        height: sp(app.layout["title_drop"]["button_height"])
        
                   

<TitleBar> 
	canvas.before:
		#For some reason if Color is removed the background will not display
		Color: 
        Rectangle:
        	source: app.layout["title_bar"]["background"]
            size: self.size
            pos: self.pos
		                      
	BoxLayout:
		size: root.size
		orientation: 'horizontal'
		Image:
			size_hint_x: app.layout["title_bar"]["button_size"]	
			source: app.layout["title_bar"]["app_icon"]
		Heading:
			text: root.app_title
		ButtonClicks:
			size_hint_x: app.layout["title_bar"]["button_size"]	
			source: app.layout["title_bar"]["home_icon"]
			on_touch_up: 
				button_identifier = 'but_001'       #The function to run when the button is pressed
				cond1 = self.collide_point(*args[1].pos)                #code only runs if touch up is inside the button
				if cond1: self.click_up(self, button_identifier) 
		ButtonClicks: 
			size_hint_x: app.layout["title_bar"]["button_size"]	
			source: app.layout["title_bar"]["settings_icon"]	        #At the back_down/back_normal are the same but in future this will change
			on_touch_up: 
				button_identifier = 'but_002'       
				cond1 = self.collide_point(*args[1].pos)                
				if cond1: self.click_up(self, button_identifier) 
		
				
			
<ButtonsOne>	
	#Can change this to a grid layout with 4 buttons when there are enough mini apps	
	BoxLayout:
		orientation: 'vertical'
		
		##Three_Drops button
		RelativeLayout:
			ButtonClicks:
				source: app.layout["buttons_one"]["mini_app_button"]
				on_touch_up: 
					button_identifier = 'but_003'
					cond1 = self.collide_point(*args[1].pos)                
					if cond1: self.click_up(self, button_identifier) 	
			ButtonLabel:
				text: app.layout["buttons_one"]["top_left_text"]
		Mini_App_Description:
			text: app.layout["buttons_one"]["top_left_descrip"]	
			
	
	
<MenuBackground>
	menu_buttons: menu_buttons_obj
	
	##Background image
	canvas.before:
        Rectangle:
        	source: app.layout["menu_background"]["background"]
            size: self.size
            pos: self.pos
    
    ##Content        
	BoxLayout:
		size: root.size
		orientation: 'vertical'
		
		#Menu buttons are added here
		BoxLayout:
			size_hint_y: app.layout["menu_background"]["buttons_height"]
			AnchorLayout:
				anchor_x: 'center'
				anchor_y: 'center'
				BoxLayout:
					size_hint: app.layout["buttons_one"]["size_hinting"]
					id: menu_buttons_obj
						
		#Blank height
		BoxLayout:
			size_hint_x: app.layout["menu_background"]["blank_height"]
				
		##Footer				
		Footer:
			text: app.layout["menu_background"]["footer"]
			
			

<Container>

			
			
<MainMenu>
	title_bar: title_obj
	container: container_obj
            
	BoxLayout:
		size: root.size
		orientation: 'vertical'
		RelativeLayout:        
			TitleBar:
				id: title_obj
		Container:	
			id: container_obj
			size_hint_y: app.layout["main_menu"]["container_height"]		
			
								